7/20/24

1

2024 Adobe.
All Rights
© ©2024
Adobe.
AllReserved.
Rights Reserved.

Adobe Digital Learning Services

GH
T

1

PR

OT

EC

TE
D

Adobe Experience Manager
Technical Basics

Legal and Confidentiality Information

PY
RI

© 2024 Adobe, Inc. All rights reserved.

Every effort was made to ensure that the information in this document was complete and accurate at the time of publication. However,
information is subject to change and Adobe cannot assume responsibility for any errors or omissions. Changes or corrections to the
information contained in this document may be incorporated in future issues.
This copyrighted guide along with other materials for this course may not be recorded, reproduced, duplicated, reverse engineered or
adapted.

CO

Training is intended only for those individuals who have registered and paid for it; training access URLs, user names and passwords, or
access of any kind may not be shared.

OB

E

This document and other materials for this course are Adobe confidential and proprietary information which must be retained in
confidence by the recipient.

AD

© 2024 Adobe. All Rights Reserved.

2

Adobe Digital Learning Services

2

1

7/20/24

Course Agenda
Day 1

TE
D

Module 1: Adobe Experience Manager Architecture
Module 2: Start Adobe Experience Manager
Module 3: Developer Tools

EC

Module 4: Sites Authoring Basics
Module 5: Create a Project Using Maven

OT

Module 6: Develop with Visual Studio

6

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

CO

Module 1

PY
RI

GH
T

6

PR

Module 7: Cloud Manager Basics (PowerPoint only)

AD

OB

E

Adobe Experience Manager Architecture

7

2

7/20/24

TE
D

Adobe Experience Manager

Extreme Content Velocity

Rapid Development

Drive higher conversions, traffic,
and engagement with fast,
optimized experiences

Empower all to create valuable,
on-brand customer experiences

Rapidly build and deploy with
the flexibility and simplicity of
modern web platform

8

© 2024 Adobe. All Rights Reserved.

GH
T

8

OT

PR

Sensei GenAI

EC

High Impact Experiences

Adobe Digital Learning Services

Adobe Experience Manager: Introduction

PY
RI

Sites

Easily compose and deliver digital
experiences for Web and mobile

CO

Adobe
Experience
Manager

OB

E

Manages and delivers
connected digital
experiences across all
channels

AD

© 2024 Adobe. All Rights Reserved.

Assets

Digital asset management and delivery

Forms

Multi-channel forms,
customer communications management

Headful

Authorable content and
presentation delivered

Headless

Authorable content managed
and delivered to a third-party
delivery channel using GraphQL
or Content Services

Dynamic Media
Brand Portal
Content Hub
Methods for delivering content

Screens

Deliver dynamic interactive experiences
into physical places

Workfront
GenStudio
Methods for supplying assets for a
Content Supply Chain

9

Adobe Digital Learning Services

9

3

7/20/24

Adobe Experience Manager Built on Open Source
Many aspects of AEM are built on open source: Architecture, supporting frameworks, templates, CLI
tools, components, dev tools and admin tools are all open source

TE
D

Components are open source:
• Core Components
• eCommerce Components
Many projects open source:

EC

• AEM archetypes
• Consulting Services tools

OT

• Migration tools

10

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

10

PR

• Integrations through Adobe IO plugins

Architecture

PY
RI

Technical foundation on which AEM is built
Includes many open-source elements:
• OSGi Application Runtime

• Java Content Repository (JCR)

CO

• Web Application Framework
• Cloud Manager

JCR Repository / Storage Layer

E

• Adobe Sensei

OB

Apache Sling

Apache Jackrabbit Oak

• Adobe I/O

OSGi

Java Application Container

• Assets Microservice

AD

Sites, Assets, Forms, Screens

Web Application Framework

A part of Experience Cloud:

© 2024 Adobe. All Rights Reserved.

AEM Application Layer

11

Adobe Digital Learning Services

11

4

7/20/24

Architecture: OSGi Platform

Service Registry

Features:

TE
D

Modular Application Runtime
Application Code
(Bundles)

Semantic Versioning

Life Cycle Management

Enforced Module Boundaries
Module Lifecycle Management

Module Management

EC

Inter-Module Communication(Services)
Benefits:

Execution Environment (Java VM)

OT

Hot Swappable Code
Clean, Versioned APIs

Operating System

12

© 2024 Adobe. All Rights Reserved.

Key principles:

PY
RI

Architecture: Apache Sling

Adobe Digital Learning Services

GH
T

12

PR

Service Replacement

• Web application framework

• Provides RESTful Web API to JCR-based applications
Sling is resource-oriented:

CO

• Resources are maintained in a virtual tree
• Most resources map to JCR nodes
Sling Processing:

E

• Decompose the URL (extract path and other parts)

OB

• Resource resolution
• Servlet resolution

AD

© 2024 Adobe. All Rights Reserved.

13

Adobe Digital Learning Services

13

5

7/20/24

Architecture: Java Content Repository (JCR)
A database that looks like a file system:
• Supports storage of unstructured content

TE
D

• Enables versioning and observation

• Provides services such as full-text search, indexing, access control, and event monitoring
Important principles of the JCR:
• Content organization in a repository model–Hierarchical modeling

14

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

14

PR

OT

• Implemented by Apache Jackrabbit Oak

EC

• Common programmatic interface to content repositories

CO

PY
RI

Architecture Content Repository

Transactions
Query
Structure
Integrity

Binaries
Hierarchy
Locking
Access Control

OB

E

Standardized
API

AD

© 2024 Adobe. All Rights Reserved.

Full Text
Versioning
Observation

Multi-Value Properties
Unstructured
Ordering

15

Adobe Digital Learning Services

15

6

7/20/24

Content Delivery: Traditional and API First
Developers

Translator

Raw Content

Template
Engine &
Content
Delivery

Pages,
Emails,
Digital
Signage

Content
Repository

Designers

Traditional

16

Content
Consumers

Adobe Digital Learning Services

GH
T

16

PR

Developers
© 2024 Adobe. All Rights Reserved.

Mobile, SPA,
IoT apps,
custom
frontends

EC

Practitioner

Content
Creation &
Experience
Management

GraphQL &
HTTP APIs

OT

Writer

Analytics & Personalization

Content
Creators

TE
D

Headless

Content Delivery: API First GraphQL

PY
RI

• Application Display completely controlled by developers
• Authors build content fragments in a Headless fashion
• Content Fragment Models + GraphQL improve:

⁃ Performance (compared to traditional AEM Content Services)

OB

E

CO

⁃ Flexibility – GraphQL query allows various client applications to define the
content they want

AD

© 2024 Adobe. All Rights Reserved.

17

Adobe Digital Learning Services

17

7

7/20/24

Infrastructure: AEM Environments
Services within an AEM environment:
• Author

Environment
Publish
Service

Author
Service

Publish
Service

Dispatcher

TE
D

• Publish
• Preview
• Dispatcher (for caching and security)

RDE Environment

• Dev

Dev Environment

• Stage

OT

• RDE

EC

Types of Environments:

Stage Environment

• Prod

18

© 2024 Adobe. All Rights Reserved.

GH
T

18

PR

Prod Environment

Adobe Digital Learning Services

PY
RI

Value

Infrastructure: Journey to the Cloud

OB

E

CO

20+ years of innovation continuity for
global enterprises and organizations

CQ3

2000

AD

© 2024 Adobe. All Rights Reserved.

Continuous innovation

Experience success
Built-in optimization
Fast experience:
100 Lighthouse performance
Fast project: New Developer Experience
(HTML, CSS, JS, GitHub)

Cloud Service
Fully automated / Container based

New Delivery Model

No downtime - No maintenance - No upgrade cost
30 days innovation cycle

365 days innovation cycle

800 customers

1100 customers

1000+ days innovation cycle

CQ5

900 customers

Managed Services Semi-automated / VM based

New Delivery Model

On-Premise Software deliverable

Edge Delivery Services

New Application Model

AEM6

AEM6.5

2010

AEM6.5.x
2020

19

2030
Adobe Digital Learning Services

19

8

7/20/24

0

Infrastructure: On-Premise
AEM environments, code deployment, security, and scale are managed by customer’s IT department
Production

Dispatcher
Web Server

Authors
Datacenter 2

Dispatcher
Web Server

Stage

Development

Preview

…
20

© 2024 Adobe. All Rights Reserved.

OT

Continuous
Integration

PR

Developers,
DevOps, IT

AEM
Publish

CDN

EC

AEM
Publish

Load balancer

AEM
Author

TE
D

Datacenter 1

GH
T

20

Adobe Digital Learning Services

21

Infrastructure: Adobe Managed Services

PY
RI

Cloud Manager provides self-service environment management and code deployment (CICD)

Authors

OB

E

Developers,
DevOps, IT

CO

AEM
Author

Cloud
Manager

AD

© 2024 Adobe. All Rights Reserved.

AEM
Publish

Dispatcher
Web Server

AEM
Publish

Dispatcher
Web Server

Load balancer

Production

CDN

Stage 1
…

21

Adobe Digital Learning Services

21

9

7/20/24

22

Infrastructure: AEM as a Cloud Service

Author

Publish and
Dispatcher

EC

Preview

Authors

CDN

Stage

OT

Development 1

22

© 2024 Adobe. All Rights Reserved.

Cloud Service

Developers

mvn clean install

Maven
Project

CO

Local
AEM
SDK

PY
RI

Full Development

OB

E

git push

AD

© 2024 Adobe. All Rights Reserved.

Customer

Adobe Digital Learning Services

GH
T

22

PR

Development …

aio aem:rde:install <artifact>

Code quality pipelines

Cloud Manager

23

Program
RDE Environments
Author

Publish

Dispatcher
git code

Dev Environments

git code

Stage Environment

LB

Cloud
Manager

git code

Prod Environment

LB

Developers,
DevOps, IT

LB

Production

TE
D

Cloud native technology that auto-scales and is always current; uses Cloud Manager for self-service
management

Adobe Digital Learning Services

23

10

7/20/24

Cloud Service & Managed Services

Cloud Manager: AEM Author Developer Notes
Develop local:
• AEM builds can be run locally

TE
D

• Dispatcher validation can be tested locally
• Maven projects are used for development
• Projects must be pushed into Git

OT

EC

Adhere to best practices enforced by CICD pipeline

24

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

24

PR

More on Cloud Manager later…

25

Infrastructure: Edge Delivery Services

PY
RI

Content first approach with AEM Pages, AEM Content Fragments, SharePoint, Google Drive, and
other third-party sources

CO

Author

Authors

Page Editor

Production

Content
Fragment
Editor

Universal
Editor

Edge Delivery
Services

E

Stage

OB

Developers,
DevOps, IT

Cloud
Manager

AD

© 2024 Adobe. All Rights Reserved.

Expanded
authoring tools

Github
Repo
25

Adobe Digital Learning Services

25

11

7/20/24

6

Infrastructure: Mixed Delivery Support

Production
Page
Editor

Content
Fragment Editor
OR
Universal Editor

Edge
Delivery
Services

EC

Author

Authors

Adobe
CDN

Publish

Expanded
authoring tools

Github
Repo
26

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

26

PR

Cloud
Manager

OT

Stage
Developers,
DevOps, IT

TE
D

Content first approach with AEM Pages, AEM Content Fragments, SharePoint, Google Drive, and
other third-party sources

Edge Delivery Services in AEM

CO

Asset Compute
Service
Gen AI service

OB

E

Content Repo
Service

AD

© 2024 Adobe. All Rights Reserved.

Github
Repo

Headless
Authoring

Adv. In-context
editor (Universal
editor)

Expanded
authoring tools

Performance-first
Edge Delivery Services

Publish Tier
&
Edge Delivery

CDN
Service

Multi-experience
Content Management

PY
RI

Creative
connectivity

Content
insights

Content
performance and
attribution

Third-party FE
and/or
Existing infrastructure

27

Adobe Digital Learning Services

27

12

7/20/24

Knowledge Check
What are the four architecture layers within an AEM service? Select the correct answer.

TE
D

A. Cloud Manager, JCR, Sling, and Applications
B. OSGi, JCR, Sling, and AEM Applications
C. Author, publish, preview and dispatcher

28

© 2024 Adobe. All Rights Reserved.

Key Takeaways

Adobe Digital Learning Services

GH
T

28

PR

OT

EC

D. OSGi, JCR, CICD, and Cloud Manager

PY
RI

• AEM provides Sites, Assets, Forms, and Screens Applications
• AEM has architecture that includes open-source software such as OSGi, Sling, and the JCR
• Adobe provides two deployment options that include Cloud Service and Manage Services
• Cloud manager is a self-service tool for:

CO

⁃ AEM environment management

OB

E

⁃ Custom code testing and deployment

AD

© 2024 Adobe. All Rights Reserved.

29

Adobe Digital Learning Services

29

13

TE
D

7/20/24

Module 2

PR

OT

EC

Start Adobe Experience Manager

GH
T

30

Local Installation Fundamentals

PY
RI

• AEM runs on all operating systems that support Java SDK

• All client interactions with AEM are done through a web browser
• Development occurs on a local instance of AEM
• Installation requirements:

CO

⁃ Quickstart jar file

⁃ A valid AEM license key properties file (6.5 only)
⁃ Java 11

E

⁃ Approximately 4 GB of free space per Service

OB

⁃ Approximately 4 GB of RAM (at the very minimum!)

AD

© 2024 Adobe. All Rights Reserved.

31

Adobe Digital Learning Services

31

14

7/20/24

Download for Local Use
• Customer must have a valid contract for access
• AEM 6.5:

⁃ Quickstart jar: visit https://licensing.adobe.com/

⁃ Service Packs can be downloaded in the software distribution portal

32

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

32

PR

OT

EC

• Software Distribution Portal:
https://experience.adobe.com/#/downloads/content/software-distribution.html

TE
D

• Cloud Service SDK can be downloaded in the software distribution portal

Start AEM

PY
RI

• “Double-click on the jar” is only supported in AEM 6.5 and previous
• Command line is recommended

$ java –jar [Java options] <quickstart>.jar [AEM options]

CO

• AEM options can include runmodes, port, launch browser, launch server GUI, forked process,
unpack and no install, debug
Learn more by viewing help

OB

E

$ java –jar <quickstart>.jar -h

AD

© 2024 Adobe. All Rights Reserved.

33

Adobe Digital Learning Services

33

15

7/20/24

Activity 1: Start Your AEM Instance

TE
D

As an AEM developer or administrator, you need to work on your AEM project locally. To work
locally, you will need to start a local AEM instance that was created from an AEM quickstart
JAR file.
Tasks to perform:
1. Start your AEM instance (Cloud Service only).
2. Start your AEM instance (6.5 only).

34

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

CO

PY
RI

GH
T

34

PR

OT

EC

3. Verify author is running.

AD

OB

E

Additional Learning:
Install AEM Cloud Service SDK Locally

35

16

7/20/24

Cloud Service: AEM SDK
Superset of tools used to develop for AEM as a Cloud service:
• Quickstart jar: AEM runtime used for local development

36

© 2024 Adobe. All Rights Reserved.

Cloud Service: Download

Adobe Digital Learning Services

GH
T

36

PR

OT

EC

TE
D

• Dispatcher tools: Set of tools used to develop against Dispatcher locally

PY
RI

• Customer must have a valid maintenance or support contract to gain access to download
• Re-download every two weeks or as needed

• Optionally develop on the specific build that cloud environments are using
• Environment version can be found in Cloud Manager

CO

• Download the AEM SDK:
https://experience.adobe.com/#/downloads/content/software-distribution/en/aemcloud.html

OB

E

• Learn about the latest release:
https://experienceleague.adobe.com/docs/experience-manager-release-information/aemrelease-updates/aem-releases-updates.html

AD

© 2024 Adobe. All Rights Reserved.

37

Adobe Digital Learning Services

37

17

7/20/24

Cloud Service: Create the Install Folder
• Extract the SDK
• Install via command line
$ java –jar aem-sdk-quickstart.jar -r author,dev -p 4502 –gui

OT

EC

• Author indicates author service while dev indicates the environment type

TE
D

• Extracted folder contains the quickstart jar

38

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

38

PR

The name aem-sdk-<build>.jar has been renamed to aem-sdk-quickstart.jar for simplicity.

Refresh AEM SDK: Quickstart and API

PY
RI

• Cloud Service runs on continuous releases:

⁃ Daily maintenance releases have minimal changes in the SDK

⁃ Monthly maintenance releases typically have more impactful changes

• Adobe recommends refreshing the SDK at least after a monthly maintenance release

CO

• When you download a new SDK, update your POM with the same release number

OB

E

• Optionally use same release as Production service; easily found in Cloud Manager

AD

© 2024 Adobe. All Rights Reserved.

39

Adobe Digital Learning Services

39

18

7/20/24

Activity 2: Install the SDK Quickstart Jar
As a developer or administrator, you need to work with Adobe Experience Manager Cloud service
locally using the SDK quickstart JAR file.

TE
D

In this activity, you will install and start an author dev service on port 4502. Optionally, if you would
like to start a publish instance, go through this entire activity again and replace "author" with
"publish".

40

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

CO

PY
RI

GH
T

40

PR

OT

EC

Location of SDK builds:
https://downloads.experiencecloud.adobe.com/content/software-distribution/en/aemcloud.html

AD

OB

E

Additional Learning:
Install AEM 6.5.x Locally

41

19

7/20/24

AEM 6.5.x: Download
• Customer must have a valid maintenance or support contract to access downloads
⁃ https://licensing.adobe.com/

⁃ Business partners can email spphelp@adobe.com

42

© 2024 Adobe. All Rights Reserved.

AEM 6.5.x: Service Packs

PY
RI

• Available quarterly

Adobe Digital Learning Services

GH
T

42

PR

OT

EC

• Dispatcher: https://experienceleague.adobe.com/docs/experience-managerdispatcher/using/getting-started/release-notes.html

TE
D

• AEM quickstart jar and license, properties file:

• Download latest Service Packs:
https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html

CO

• Learn about the latest release:
https://experienceleague.adobe.com/docs/experience-manager-release-information/aemrelease-updates/aem-releases-updates.html

OB

E

• Can be installed during installation or through Package Manager post install

AD

© 2024 Adobe. All Rights Reserved.

43

Adobe Digital Learning Services

43

20

7/20/24

AEM 6.5.x: Install Service Pack

44

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

44

PR

You can also double-click on the jar to start AEM.

OT

EC

TE
D

AEM > Tools > Deployment > Packages: Upload and install service pack into AEM

Activity 3: Install 6.5 Quickstart Jar and Service Pack

PY
RI

As a developer or administrator, you need to work with Adobe Experience Manager 6.5 locally using
both the quickstart JAR file and the command-line method.

OB

E

CO

If you are attending a vILT class using ReadyTech, steps 1 through 3 were completed for you. Skip to
step 4. You can also skip the steps to install the service pack (steps 13-20).

AD

© 2024 Adobe. All Rights Reserved.

45

Adobe Digital Learning Services

45

21

7/20/24

AEM Log Files
• AEM logging is based on Sling logging
• Sling logging exports four logging APIs:

TE
D

⁃ Simple Logging Facade for Java (SLF4J)
⁃ Apache Commons logging
⁃ Log4j

⁃ java.util.logging

46

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

46

PR

OT

EC

• By default, the error, access, history, and
request logs rotate once per day

Activity 4: Observe the Local Log Files

OB

E

CO

PY
RI

In this activity, you will observe the local log files created after installation.

AD

© 2024 Adobe. All Rights Reserved.

47

Adobe Digital Learning Services

47

22

7/20/24

Key Takeaways
• Local installation fundamentals:

⁃ AEM runs on all operating systems that support Java SDK

TE
D

⁃ All client interactions with AEM are done through a web browser
⁃ Development occurs on a local instance of AEM

• Superset of tools used to develop for AEM as a Cloud service:
⁃ Quickstart Jar

EC

⁃ Dispatcher Tools

• AEM 6.5.x:

OT

⁃ AEM quickstart jar and license, properties file

48

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

CO

Module 3

PY
RI

GH
T

48

PR

⁃ Dispatcher

AD

OB

E

Developer Tools

49

23

7/20/24

Development Consoles for AEM
• Several consoles are available in AEM for development and administration:
⁃ CRXDE Lite

TE
D

⁃ Web Console

⁃ Package Manager

• Full access to these consoles is only available locally

50

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

50

PR

OT

EC

• Each console is limited or removed in shared environments

CRXDE Lite

PY
RI

AEM > Tools > General > CRXDE Lite:

• Console for quick access to the JCR

• Not recommended for full development
• Create/edit nodes and properties

http://localhost:4502/crx/de

CO

When to use CRXDE Lite:

• Operations debugging
• Overlays from /libs

E

• Code/content validation

OB

• Product training

AD

© 2024 Adobe. All Rights Reserved.

51

Adobe Digital Learning Services

51

24

7/20/24

Web Console
Consoles for managing the OSGi container:
• Configuration: Configurations for Java components

TE
D

• Bundles: Manage all bundles in the OSGi container
• Components: Java classes for components
Status consoles: Status output for everything

http://localhost:4502/system/console

EC

Other consoles:
• JMX
• Crypto support

52

© 2024 Adobe. All Rights Reserved.

Content Packages

Adobe Digital Learning Services

GH
T

52

PR

OT

• HTTP Service and many more tools…

PY
RI

Folder structure that contains JCR node and property data

Content packages are zip files that contains two main parts:
• jcr_root: Subsets of the JCR tree as serialized nodes and properties

CO

• META-INF/vault/filter.xml: Determines what to import/export with this package
Content package uses:

• A common standard for installation to the JCR

E

• Maven build artifacts for an AEM project

OB

• Transfer content between services
• Hot fixes, feature packs, and service packs (6.5 and previous only)

AD

© 2024 Adobe. All Rights Reserved.

53

Adobe Digital Learning Services

53

25

7/20/24

Package Manager
AEM Projects are installed via Package Manager
AEM > Tools > Deployment > Packages:

TE
D

1. Upload and install content into AEM.
2. Download content locally (.zip).
3. Replicate content packages to publish.

http://localhost:4502/crx/packmgr/index.jsp

54

© 2024 Adobe. All Rights Reserved.

Content Separation

Adobe Digital Learning Services

GH
T

54

PR

OT

EC

Most actions available via cURL

PY
RI

Experience Manager requires a separation of content and code, which allows the cloud service to be
auto-updated
Content is considered mutable:

• Mutable examples: Configurations, pages, experience fragments, assets, etc.

CO

• /content, /conf, /home, /var are all considered runtime-writable
Code is considered immutable:
• Immutable examples: Components, clientlibs, and so on

E

• /apps: Customer immutable code

OB

• /libs: Adobe’s immutable code

Cloud Manager pipeline fails if not separated properly – no separation validation on local quickstart

AD

© 2024 Adobe. All Rights Reserved.

55

Adobe Digital Learning Services

55

26

7/20/24

Creating and Building New Packages
• Create and build packages in
your browser

TE
D

• Packages can be downloaded
as *.zip files

56

© 2024 Adobe. All Rights Reserved.

Knowledge Check

Adobe Digital Learning Services

GH
T

56

PR

OT

EC

• Immutable package can only
be installed locally

PY
RI

Which tool can you use to create and build packages from your local author environment?
Select one answer.
A. Web Console

CO

B. CRXDE Lite

C. Package Manager

OB

E

D. Package Share

AD

© 2024 Adobe. All Rights Reserved.

57

Adobe Digital Learning Services

57

27

7/20/24

Activity 1: Install a Package

TE
D

In this activity, you will create the mapping from our bundle to the user with an OSGi configuration
file. The Bundles tab is the mechanism for installing the OSGi bundles required for AEM. The
configuration we will set up is the ServiceUserMapperImpl factory.
Tasks to perform:
1. Create an OSGi configuration file in JSON format.

58

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

CO

PY
RI

GH
T

58

PR

OT

EC

2. Install and verify the configuration.

AD

OB

E

Additional Learning:
Create, Build, and Download Packages

59

28

7/20/24

Activity 2: Create, Build, and Download Packages
In this activity, you will learn how to create a content package.

TE
D

Locally, you can create content packages for mutable and immutable content. However, on an AEM
service, only immutable content packages can be created and managed because mutable code
(/apps) can only be installed to an AEM service via Cloud Manager.

60

© 2024 Adobe. All Rights Reserved.

PY
RI

Key Takeaways

Adobe Digital Learning Services

GH
T

60

PR

OT

EC

Your instructor may provide you with a course-filter.txt file; you can use those filters rather than the
example filters for this activity.

• Development consoles available in AEM:
⁃ CRXDE Lite

⁃ AEM > Tools > General > CRXDE Lite

CO

• Web console: http://localhost:4502/system/console

OB

E

• Package Manager: AEM > Tools > Deployment > Packages

AD

© 2024 Adobe. All Rights Reserved.

61

Adobe Digital Learning Services

61

29

7/20/24

References
Developer tools: Bookmark/"favorite" these sites for local author installation
(development environment):

TE
D

• CRXDE Lite: http://localhost:4502/crx/de/index.jsp
• Web console: http://localhost:4502/system/console

62

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

CO

Module 4

PY
RI

GH
T

62

PR

OT

EC

• Package Manager: http://localhost:4502/crx/packmgr/index.jsp

AD

OB

E

Sites Authoring Basics

63

30

7/20/24

Adobe Experience Manager User Interface
Based on Coral 3 and provides a foundational UI framework for:
• UI widgets

TE
D

• Extensible and plugin-based admin UI
Designed to be:
• Touch-friendly
• Extensible
• Easy to override

64

© 2024 Adobe. All Rights Reserved.

AEM UI: Header Bar

Adobe Digital Learning Services

GH
T

64

PR

Coral 3 is Adobe’s universal UI across all products.

OT

EC

• “Mobile first”

OB

E

CO

PY
RI

The header bar is located at the the top of the user interface with the following options:

AD

© 2024 Adobe. All Rights Reserved.

65

Adobe Digital Learning Services

65

31

7/20/24

AEM UI: Navigation and Tools
Navigation displays all AEM applications
available in the AEM UI

66

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

66

PR

OT

EC

TE
D

Tools displays all AEM administrative
consoles, developer tools, and other
technical consoles available

AEM Sites: Templates and Components

PY
RI

An AEM page is built with:

• A template: Determines page structure, allowed components, styles, and layout
• Components: Modular units of code that allow user input
• Styles: Predefined styles for users to choose on components

OB

E

CO

• Responsive tools: Emulators and component rules for breakpoints

AD

© 2024 Adobe. All Rights Reserved.

+

=

67

Adobe Digital Learning Services

67

32

7/20/24

AEM Sites: Authoring Features
AEM pages provide a WYSIWYG UI for authoring:
• Drag-and-drop components

TE
D

• Set responsive rules
• Drag-and-drop assets
• Add content to components
• Add styles to components

EC

• Manage publishing
• Annotate

OT

• Edit page properties

68

© 2024 Adobe. All Rights Reserved.

AEM Sites: WKND Site

Adobe Digital Learning Services

GH
T

68

PR

• And much more…

PY
RI

Reference implementation that illustrates the recommended best practices of AEM:
• Internationalized and localized site structure
• Responsive layout

• Editable templates

https://wknd.site

CO

• Core Components

• HTML Template Language (HTL)
• Content fragments

E

• Header/Footer experience fragments

OB

• Based on latest archetype
• AEM 6.4.8+, 6.5.4+, Cloud Service compliant

AD

© 2024 Adobe. All Rights Reserved.

69

Adobe Digital Learning Services

69

33

7/20/24

70

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

70

PR

OT

EC

TE
D

Activity 1: Create a Page in AEM

OB

E

CO

PY
RI

Activity 2: Edit a Page in AEM

AD

© 2024 Adobe. All Rights Reserved.

71

Adobe Digital Learning Services

71

34

7/20/24

Core Components: Overview
Provide robust and extensible base components for AEM, built on the latest technology and best
practices:

• Cloud ready
• Versatile and easy to use

• WCAG 2.0 accessible
• SEO friendly

• Localizable
• Headless/SPA ready

• WebApp-ready
• AMP support

• Dynamic Media ready

72

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

72

PR

OT

• Configurable

• Customizable

TE
D

• Themeable

• Production ready

• Trackable with the Adobe
Data Layer

EC

• Open source

CO

Component versioning

PY
RI

Core Components: Structure

E

Dialog for configuring the component
instance on a page

OB

Readme that is used in the
components console

AD

Component clientlibs for design
Dialog for content policies or component
configurations in the template editor

HTL script to render the
component

© 2024 Adobe. All Rights Reserved.

Dialog or authoring UI clientlibs

Feature for authoring actions that
happened outside a dialog box

73

Adobe Digital Learning Services

73

35

7/20/24

Core Components: Authoring
As a developer it’s important to understand the capabilities of the Core Components:
• Well integrated with the page editor

TE
D

• Feature-rich capabilities to accommodate many use cases
• Pre-configurable (with content policies)

Developers can immediately start exploring core components with:
• Open Source Component Library

OT

• WKND site

74

Proxy Components

Adobe Digital Learning Services

GH
T

74

PR

• An AEM project built from the latest archetype
© 2024 Adobe. All Rights Reserved.

EC

• Built to support responsive layout

PY
RI

Core Components must not be directly referenced from the content (page):
• Increased flexibility in releasing new versions

• Customer chooses how often to update the referenced core component version

CO

Site-specific components, known as ‘proxy components,’ must be defined and implemented:

E

• Often proxy components contain no custom code
and simply declare the relevant Core Component
as a supertype

OB

• Use of proxy components supports future
component customization without changing
component references on the page

AD

© 2024 Adobe. All Rights Reserved.

75

Adobe Digital Learning Services

75

36

7/20/24

Activity 3 (Optional): Explore Core Component Authoring

76

© 2024 Adobe. All Rights Reserved.

References

PY
RI

Sites authoring basics:

Adobe Digital Learning Services

GH
T

76

PR

OT

EC

TE
D

Even if this activity is not completed during class, this is a good activity to come back to after class to
learn different ways to use core components.

• https://docs.adobe.com/content/help/en/experience-manager-cloudservice/sites/authoring/getting-started/quick-start.html

CO

• WKND: https://experienceleague.adobe.com/docs/experience-manager-learn/getting-startedwknd-tutorial-develop/overview.html
• https://experienceleague.adobe.com/docs/experience-manager-corecomponents/using/introduction.html
• Core component library: https://github.com/adobe/aem-core-wcm-components

E

• WNKD: https://github.com/adobe/aem-guides-wknd

OB

• Archetype: https://github.com/adobe/aem-project-archetype

AD

© 2024 Adobe. All Rights Reserved.

77

Adobe Digital Learning Services

77

37

TE
D

7/20/24

Module 5

PR

OT

EC

Create a Project Using Maven

GH
T

78

Using Maven to Build AEM Projects

PY
RI

Java-based build tool that:

• Makes the build process easy

• Provides a uniform build system

• Provides quality project information

Sample POM file

OB

E

CO

• Encourages better development practices

AD

© 2024 Adobe. All Rights Reserved.

79

Adobe Digital Learning Services

79

38

7/20/24

Using Maven to Build AEM Projects
Maven uses pom.xml files to:

TE
D

• Define plugins, dependencies, and
project artifacts
• Define build, test, and install instructors

Sample POM file

80

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

80

PR

OT

EC

• Define project information for content
packages and bundles

Using Maven for AEM Projects

PY
RI

Packages the Single Package artifact:

• Single Container for all bundles, content
packages and 3rd party artifacts

CO

• Author and Publish maven profiles for
installation
Builds OSGi bundle artifacts:

• Annotation driven java classes for OSGi

OB

E

• Development maven profile for
installation

AD

© 2024 Adobe. All Rights Reserved.

AEM

81

Adobe Digital Learning Services

81

39

7/20/24

Using Maven for AEM Projects
Builds Content Packages artifacts:
• Files and folders packaged for AEM

TE
D

• Development maven profile for
installation
Manages artifacts for the project:
• Dependencies

EC

• Plugins
• AEM SDK (CS) or UberJar (6.5 and older)

OT

Unit Tests and Sling Tests

82

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

82

PR

AEM

Start with the AEM Archetype

PY
RI

Template for AEM projects for rapid AEM project creation:
•

Cloud Ready

•

Standard for best practice:

⁃ Mutable/immutable separation

CO

⁃ Core Components
⁃ Multi-Site

⁃ Editable Templates

⁃ XF header/footer concept

E

⁃ Java example

OB

⁃ Dispatcher for Managed Services or Cloud Service

⁃ Forms, Commerce, Webapp, Dynamic Media ready

AD

© 2024 Adobe. All Rights Reserved.

83

https://github.com/adobe/aem-project-archetype#features

Adobe Digital Learning Services

83

40

7/20/24

Use Maven to Create an AEM Project
Before creating your project:
• Maven needs to be installed

TE
D

• Adobe’s nexus repo needs added to
username/.m2/settings.xml

OT

EC

To create your project:
Run mvn archetype:generate with
the desired parameters for your project

84

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

84

PR

View all archetype parameters: https://github.com/adobe/aem-project-archetype#available-properties

Tasks to perform:

PY
RI

Activity 1: Create an AEM Project
1. Configure the profile for Maven.

OB

E

CO

2. Create a project using Maven.

AD

© 2024 Adobe. All Rights Reserved.

85

Adobe Digital Learning Services

85

41

7/20/24

AEM’s Dependency Jar
Special JAR file provided by Adobe to reduce dependencies including:

TE
D

• Public Java APIs exposed by AEM including Apache Sling, Apache
Jackrabbit, Apache Lucene, and Google Guava
• Interfaces and classes exported by an OSGi bundle in AEM
• MANIFEST.MF file with the correct package export versions for
all the exported packages

EC

Naming:
• AEM 6.5: Uberjar API

OT

• Cloud Service: Java SDK API

86

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

86

PR

It’s important to keep the dependency jar version in the POM file the same as the version you’re developing with.

Developer Profiles:

PY
RI

Build and Deploy: Local Development
• Useful for targeted
development

$ mvn clean install -PautoInstallBundle

CO

• Defined in
parent/pom.xml
All Profile:

$ mvn clean install -PautoInstallPackage

Local AEM Instances

• Installs all project artifacts

E

• Installs third-party
artifacts

OB

• Defined in all/pom.xml

AD

© 2024 Adobe. All Rights Reserved.

$ mvn clean install -PautoInstallSinglePackage

87

Adobe Digital Learning Services

87

42

7/20/24

TE
D

Build and Deploy: Dev, Stage, Prod Environments

EC

AEM Managed Services
Environments

On-Premise
Environments

The all artifact:

Single container package that goes through the CICD pipeline within Cloud Manager

•

Cloud Manager then deploys the code to AEM environments

•

On-Premise deployments can also use the all container package

Adobe Digital Learning Services

GH
T

88

PR

88

© 2024 Adobe. All Rights Reserved.

OT

•

Tasks to perform:

PY
RI

Activity 2: Install the Project into AEM

1. (Cloud Service only) Update dependencies.
2. (6.5 only) Update dependencies.
3. Install your project into AEM.

OB

E

CO

4. Verify the installed content packages.

AD

© 2024 Adobe. All Rights Reserved.

89

Adobe Digital Learning Services

89

43

EC

PR

OT

Additional Learning: Install Maven

TE
D

7/20/24

GH
T

90

OB

E

CO

PY
RI

AEM Archetype: Immutable Modules

AD

© 2024 Adobe. All Rights Reserved.

https://experienceleague.adobe.com/docs/experience-manager-cloud-service/assets/content-package-organization.png
91

Adobe Digital Learning Services

91

44

7/20/24

TE
D

AEM Archetype: Mutable Modules

Mutable content in a project can be:

• Skeleton site structure that components depend on
• Initial folder structures for Experience Fragment and Assets
• Initial Content Fragment Modules

OT

• Initial templates and configurations

EC

• Minimal content for the project to build

92

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

92

PR

https://experienceleague.adobe.com/docs/experience-manager-cloud-service/assets/content-package-organization.png

CO

PY
RI

AEM Archetype: Container Module

Embed location for Immutable artifacts:
/apps/example-packages/application/install/ui.config.zip

•

/apps/example-packages/application/install/ui.apps.zip

E

•
•

/apps/example-packages/application/install/bundle.jar

OB

Embed location for Mutable artifacts: /apps/example-packages/content/install/ui.content.zip

Embed location for third-party artifacts:/apps/example-vendor- packages/container/install/vendor.all.zip

AD

© 2024 Adobe. All Rights Reserved.

https://experienceleague.adobe.com/docs/experience-manager-cloud-service/assets/content-package-organization.png
93

Adobe Digital Learning Services

93

45

7/20/24

TE
D

Build and Deploy: Dev, Stage, Prod Environments

EC

AEM Managed Services
Environments

On-Premise
Environments

The all artifact: Single container package that goes through the CICD pipeline within Cloud Manager
Cloud Manager then deploys the code to AEM environments

•

On-Premise deployments can also use the all container package

Adobe Digital Learning Services

GH
T

94

PR

94

© 2024 Adobe. All Rights Reserved.

OT

•
•

Developer Profiles:

PY
RI

Build and Deploy: Local Development
• Useful for targeted
development

$ mvn clean install -PautoInstallBundle

CO

• Defined in
parent/pom.xml
All Profile:

$ mvn clean install -PautoInstallPackage

Local AEM Instances

• Installs all project
artifacts

OB

E

• Installs third-party
artifacts

$ mvn clean install -PautoInstallSinglePackage

• Defined in all/pom.xml

AD

© 2024 Adobe. All Rights Reserved.

95

Adobe Digital Learning Services

95

46

7/20/24

Other Maven Modules
ui.apps.structure:
• Ensures installation of packages are ordered by JCR resource dependencies

TE
D

• Defines the JCR repository roots this project uses
• Generally, the default repository-structure module should handle most use cases in a project
it.tests: Container for sling testing on an AEM instance

96

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

96

PR

OT

EC

it.launcher: Build it.tests with testing bundles into an AEM instance

Optional Archetype Inclusions

PY
RI

Archetype provides many different modules and configurations for a wide variety of AEM projects:
• React or Angular frontend module

• Commerce Integration Framework (CIF) core components
• AEM Forms add-on

CO

• Adobe Data layer
• AMP support

• Core components enabled with Dynamic Media

OB

E

• Example Core Component Library

AD

© 2024 Adobe. All Rights Reserved.

https://github.com/adobe/aem-project-archetype#available-properties
97

Adobe Digital Learning Services

97

47

7/20/24

AEM’s Dependency Jar
Special JAR file provided by Adobe to reduce the number of dependencies
Jar contents:

TE
D

• All public Java APIs exposed by AEM

• Limited external libraries: All public APIs available in AEM that comes from Apache Sling,
Apache Jackrabbit, Apache Lucene, Google Guava, and two libraries used for image processing
⁃ Interfaces and classes exported by an OSGi bundle in AEM.

EC

⁃ MANIFEST.MF file with the correct package export versions for all the exported packages.
Naming:

OT

• AEM 6.5: Uberjar API

99

© 2024 Adobe. All Rights Reserved.

Dependency Jar: Uberjar

GH
T

99

PR

• Cloud Service: Java SDK API

Adobe Digital Learning Services

AEM 6.5 and Previous Only

PY
RI

• AEM dependency is called the Uberjar

• Use the same AEM version and service pack
• Javadocs can be downloaded using

Maven dependency element (parent)

$ mvn dependency:resolve -Dclassifier=Javadoc

Example AEM 6.5.7 install

Maven dependency element (modules)

OB

E

CO

• Dependency version should be updated based on
service pack used

AD

© 2024 Adobe. All Rights Reserved.

100

Adobe Digital Learning Services

100

48

7/20/24

Cloud Service Only

Dependency Jar: SDK API
• AEM dependency is called the Java SDK API

Example SDK zip file

• Use the same version as the AEM SDK downloaded

TE
D

• Javadocs can be downloaded using
$ mvn dependency:resolve -Dclassifier=Javadoc

• Optional download of deprecated APIs from 6.5

Maven dependency element (parent)

EC

Artifact=aem-sdk-deprecated-6.5-api

101

© 2024 Adobe. All Rights Reserved.

GH
T

101

PR

OT

Maven dependency element (modules)

Refresh AEM SDK: Quickstart and API

Adobe Digital Learning Services

Cloud Service Only

PY
RI

Cloud Service runs on continuous releases:

• Daily maintenance releases have minimal changes in the SDK
• Monthly maintenance releases typically have more impactful changes

CO

• Adobe recommends refreshing SDK at least after monthly maintenance release – when you
download a new SDK, update your POM with the same release number

OB

E

• Optionally use same release as Production service, which can easily be found in Cloud Manager

AD

© 2024 Adobe. All Rights Reserved.

102

Adobe Digital Learning Services

102

49

7/20/24

Activity 3: Install Maven Command
Tasks to perform:
1. Update the POM file.

TE
D

2. Install the project into AEM.

103

© 2024 Adobe. All Rights Reserved.

Knowledge Check

Adobe Digital Learning Services

GH
T

103

PR

OT

EC

3. Verify the installed content packages.

PY
RI

Which three Maven modules are created as part of the AEM Archetype? Select three answers.
A. ui.apps.structure
B. code

CO

C. ui.apps

OB

E

D. ui.content

AD

© 2024 Adobe. All Rights Reserved.

104

Adobe Digital Learning Services

104

50

7/20/24

Key Takeaways
Maven:

TE
D

• Open-source development tool used to build and manage Java-based projects
• Configured using Project Object Model (POM) files
AEM Archetype:
• Archetype can be used for a wide variety of AEM projects
• The All container package include all other artifacts

105

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

CO

Module 6

PY
RI

GH
T

105

PR

OT

• AEM dependencies are managed with the SDK API or Uberjar

EC

• Starter AEM project based on best practices

AD

OB

E

Develop with Visual Studio

106

51

7/20/24

Choose the Right IDE
• Integrated Development Environments (IDEs) are used to speed up development on projects
• Ultimately, it’s up to the developer and organization standards to choose

TE
D

• Common Java IDEs used for AEM development:
⁃ Eclipse

⁃ Visual Studio Code

107

© 2024 Adobe. All Rights Reserved.

Choose the Right IDE

Adobe Digital Learning Services

GH
T

107

PR

OT

EC

⁃ IntelliJ

PY
RI

Common frontend IDEs for AEM development:
• Visual Studio Code
• Brackets

• Basic text editors (Notepad++, bbedit, etc.)

OB

E

CO

Depending on the project size and number of developers, it’s not uncommon to use many different
IDEs among different teams and initiatives

AD

© 2024 Adobe. All Rights Reserved.

108

Adobe Digital Learning Services

108

52

7/20/24

Key AEM Development Features
Common features an IDE should have for AEM development:
• Java support

TE
D

• Node/NPM support
• Maven
• JUnit test runner
• Remote Java debugging

EC

• Dependency management and autocomplete

109

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

109

PR

OT

• AEM project sync

Nice-to-haves:

PY
RI

Key AEM Development Features

• JCR Properties view (.content.xml files)

OB

E

CO

• Git support

AD

© 2024 Adobe. All Rights Reserved.

110

Adobe Digital Learning Services

110

53

7/20/24

Additional
Learning

Activity 1: Import an AEM Project into VS Code

111

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

CO

PY
RI

GH
T

111

PR

OT

EC

TE
D

In this activity, you will import an AEM project into Visual Studio Code.

AD

OB

E

Additional Learning: Visual Studio Code

112

54

7/20/24

Visual Studio Code
• Lightweight and a powerful source code editor

113

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

113

PR

OT

EC

TE
D

• Has built-in support for JavaScript, TypeScript, and Node.js

Visual Studio Code Installation

PY
RI

• VS Code is a free editor

• Runs on the following operating systems:
⁃ MacOS
⁃ Linux

https://code.visualstudio.com

OB

E

CO

⁃ Windows

AD

© 2024 Adobe. All Rights Reserved.

114

Adobe Digital Learning Services

114

55

7/20/24

Activity 2: Install Visual Studio Code (Local Only)
• ADLS ReadyTech environments already have Visual Studio Code installed

115

© 2024 Adobe. All Rights Reserved.

Maven Use: Options

Adobe Digital Learning Services

GH
T

115

PR

OT

EC

TE
D

• Complete this activity only if you are working locally

PY
RI

Deploying an entire project or module requires Maven. Two common options; either option can be
used in training:

CO

• Maven command line outside Eclipse

OB

E

• VSC integrated terminal

AD

© 2024 Adobe. All Rights Reserved.

116

Adobe Digital Learning Services

116

56

7/20/24

Visual Studio Code Integrated Terminal
Features of integrated terminal:
• Can be opened initially starting at the root of your workspace

TE
D

• Creates a separate window

117

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

117

PR

OT

EC

• Multiple terminals option

AEM Project Sync: Common Options

•

Entire project or module
⁃ Maven command

⁃ M2Eclipse extension

Individual files

CO

•

Import from AEM

PY
RI

Export to AEM

⁃ Eclipse sync plugin

•

Eclipse sync plugin

•

VSCode sync extension

•

Repo command line

•

Vault command line

⁃ VSCode sync extension

⁃ AEMFED command line

OB

E

⁃ Repo command line

AD

© 2024 Adobe. All Rights Reserved.

AEM

118

Adobe Digital Learning Services

118

57

7/20/24

VSCode AEM Sync
Code and content synchronization:
• Pushes from a local Maven project to a local AEM

TE
D

• Used only for local development
• Sync is one way only: Maven project > AEM
Benefits:

EC

• There is no vault dependency

• Can push the content to multiple services at the same time; for example, author and publish
• Sync on file change/save

119

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

119

PR

OT

• Full status output of sync

VSCode AEM Sync: Installation

PY
RI

• Works on Windows, Linux, and MacOS

OB

E

CO

• To install, go to
https://marketplace.visualstudio.com/items?itemName=yamato-ltd.vscode-aem-sync

AD

© 2024 Adobe. All Rights Reserved.

120

Adobe Digital Learning Services

120

58

7/20/24

Activity 3: Install VSCode Sync (Local Only)
• ADLS ReadyTech environments already have VSCode Sync installed

121

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

121

PR

OT

EC

TE
D

• Complete this activity only if you are working locally

VSC AEM Sync: Configuration

PY
RI

• Accept self-signed certs

• Auto sync of saved files to AEM

OB

E

CO

• AEM Server info: User, password, and host

AD

© 2024 Adobe. All Rights Reserved.

122

Adobe Digital Learning Services

122

59

7/20/24

VSCode AEM Sync: Auto-sync Files on Save
1. Ensure the extension is enabled and auto-push is on.
2. Make changes to the files.

TE
D

3. Save the files.

123

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

123

PR

OT

EC

4. Verify the changes in AEM.

VSCode AEM Sync: Import from AEM

PY
RI

1. Make sure the extension is enabled and
auto-push is on.
2. Import CRXDE Lite activities:
• Dialogs structures reused

CO

• Overlay nodes from /libs

3. Import skeleton content back to the project:
• Pages, experience fragments, assets

OB

E

• Configurations

AD

© 2024 Adobe. All Rights Reserved.

124

Adobe Digital Learning Services

124

60

7/20/24

Activity 4: Sync Tools for VSCode
Tasks to perform:
1. Verify auto push is enabled.

125

© 2024 Adobe. All Rights Reserved.

PY
RI

Key Takeaways

Adobe Digital Learning Services

GH
T

125

PR

OT

EC

TE
D

2. Sync AEM content.

• Visual Studio Code: Lightweight, powerful source code editor
• VSCode AEMSync:

⁃ Code and content synchronization for AEM

CO

⁃ Pushes the content to AEM services upon a file change

OB

E

⁃ Used for local development

AD

© 2024 Adobe. All Rights Reserved.

126

Adobe Digital Learning Services

126

61

TE
D

7/20/24

Module 7

PR

OT

EC

Cloud Manager Basics

GH
T

127

Self-service Portal

PY
RI

Cloud Manager for Adobe Experience Manager (AEM)

Code inspection, performance
testing, and security validation

Flexible Deployments

API First

E

CO

Easily access & manage the cloud
environment and CI/CD pipeline

OB

Schedule code deployments
during specified time frames

© 2024 Adobe. All Rights Reserved.

AD

CI/CD Pipeline

Manage through the Cloud
Manager UI and full immediate
third-party API access

128

Adobe Digital Learning Services

128

62

7/20/24

Cloud Manager Terms

Environments

Pipelines

Container for an AEM application
(Sites, Assets) with associated code
repository

An all-in-one deployment of all
required services for AEM including
author, publish, dispatcher fully
configured to work together. Are
categorized as Dev, Stage, or Prod

Self-service creation of CI/CD
pipelines for best practices

Cloud Service: Self-service management
Adobe Managed Services: Created by your CSE

Cloud Service: Self-service management
Adobe Managed Services: Created by your CSE

129

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

129

PR

OT

EC

TE
D

Programs

Hierarchy of Terms in Cloud Manager

PY
RI

Adobe Experience Cloud organization
Experience Manager

E
OB

AD

© 2024 Adobe. All Rights Reserved.

Cloud Acceleration Manager

Cloud Manager

CO

Core Services
• Admin Console
• Launch
Adobe Experience Platform

Extension Manager

Brand Portal

Environments

Tools for Self-service
Manage
Git

Distribution Portal

Reports

Download
Logs

130

Developer
Console
Access

Access
Environments

Add and
Manage
Environments

Configure
and Deploy
Pipelines

Adobe Digital Learning Services

130

63

7/20/24

Environments

Environments

An Environment consists of:

stage + prod
prod Au thor
prod Prev iew

• Installed Maven Project from Git

Publish

Dispatcher
git code

Environments are autoconfigured with:

prod Pu blish

• Replication

Publish

Dispatcher

stage

• Sensei features like Smart Tag and Smart Crop

Author, Publish,
Preview

OT

• Adobe IMS for authentication

EC

git code

• Cloud-native microservices

TE
D

• CDN

git code

Adobe CDN

• Author, Publish/Dispatcher, Preview/Dispatcher

rde

Author, Publish

Adobe Digital Learning Services

GH
T

131

Author, Preview, Publish

PR

131

© 2024 Adobe. All Rights Reserved.

dev

Develop local:

PY
RI

Cloud Manager: Developer Notes
• AEM builds can be run locally

• Dispatcher validation can be tested locally
• Maven projects are used for development

CO

Rapid Deployment Environments (RDE):

• Used to install and test your code in Cloud Service
• Can be reset

E

• No CICD pipeline required
Preparing for a new release:

OB

• Projects must be pushed into Git
• All CICD pipelines rules must be followed to install onto dev, stage, or prod

AD

© 2024 Adobe. All Rights Reserved.

132

Adobe Digital Learning Services

132

64

7/20/24

Cloud Service

Develop with a Rapid Development Environment (RDE)
Program

Author

aio aem:rde:install <artifact>

Publish

Dispatcher

Dev Environments

git code

Stage Environment

OT

EC

git code

133

© 2024 Adobe. All Rights Reserved.

Cloud Service

RDE: Configure

PY
RI

• aio CLI tool must be installed

Adobe Digital Learning Services

GH
T

133

Prod Environment

PR

git code

LB

Maven
Project

LB

mvn clean install

LB

Local
AEM
SDK

TE
D

RDE Environments
Developers

• Developer must be added to Cloud Manager Developer - Cloud Service Product Profile
• RDE environment must be created in Cloud Manager
• Install:
⁃

$ aio plugins:install @adobe/aio-cli-plugin-aem-rde

CO

⁃

$ aio plugins:update

• Configure:
⁃

E

⁃

$ aio config:set cloudmanager_orgid 12345123451234512345@AdobeOrg

$ aio config:set cloudmanager_environmentid 123456

OB

⁃

$ aio config:set cloudmanager_programid 12345

⁃

$ aio login

AD

© 2024 Adobe. All Rights Reserved.

134

Adobe Digital Learning Services

134

65

7/20/24

Cloud Service

RDE: Use
•

$ aio aem:rde

•

$ aio aem rde <command> --help

TE
D

Help:

Reset RDE: $ aio aem rde reset
See RDE history: $ aio aem rde reset
See current artifacts installed:

135

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

135

PR

OT

EC

$ aio aem rde status

Cloud Service

RDE: Develop
•

PY
RI

Install artifact (content package, bundle, or dispatcher):
$ mvn clean package

• Builds all artifacts of maven project
•

$ aio aem:rde:install <artifact>

CO

Install an OSGi configuration:

$ aio aem:rde:install com.adobe.granite.demo.MyServlet.cfg.json

Install single file: $ aio aem:rde:install world.txt -p /apps/hello.txt

OB

E

CRXDE Lite continues to maintain read-only with mutable content

AD

© 2024 Adobe. All Rights Reserved.

136

Adobe Digital Learning Services

136

66

7/20/24

Cloud Service

Full Development
Program

Publish

Dispatcher
git push

Code quality pipelines

Customer

Dev Environments

git code

Stage Environment

OT

Cloud Manager

git code

137

© 2024 Adobe. All Rights Reserved.

Adobe Digital Learning Services

GH
T

137

Prod Environment

PR

git code

LB

Author

aio aem:rde:install <artifact>

LB

Maven
Project

LB

mvn clean install

EC

Local
AEM
SDK

TE
D

RDE Environments
Developers

Prepare for the Next Release

PY
RI

• Check in your code branch

• Go through the proper code review and pull request process of your organization
• Push the code to Cloud Manager Git

• Run a CICD pipeline for the appropriate organizational process:

CO

⁃ Dev environments: Used for QA, further testing, POC, etc.

OB

E

⁃ Stage/prod environments: Used to release on Production

AD

© 2024 Adobe. All Rights Reserved.

138

Adobe Digital Learning Services

138

67

7/20/24

Push Code to Cloud Manager Git
Cloud Manager Program provides git repositories:
• Access git through a git client using HTTPS

TE
D

• Can have multiple git repositories
• Useful for different pipeline code types
Different branches can be used on different pipelines:
• feature1 branch > Code Quality pipeline

EC

• develop branch > QA pipeline
• main branch > Production pipeline

OT

Completed Production pipelines:
• Auto-create a release tag

139

© 2024 Adobe. All Rights Reserved.

PY
RI

Pipeline Code Types

Adobe Digital Learning Services

GH
T

139

PR

• Tags can be pulled back to customer repos

Full Stack Code

Config

Front End Code

Web Tier Config

Code to Deploy

CO

Full Stack Code
Deploys all artifacts in a given maven project including bundles, mutable content, immutable code,
dispatcher, and CDN configurations. Includes relevant testing of each artifact.
Config
Deploys config/cdn.yaml file for the CDN

E

Front End Code
Deploys front-end code related to Quick Site Creation flow in AEM

OB

Web Tier Config
Deploys the build artifact under the dispatcher/ module for HTTPD/Dispatcher

AD

© 2024 Adobe. All Rights Reserved.

140

Adobe Digital Learning Services

140

68

7/20/24

Understand Maven Project Artifacts

What It Affects

Full Stack Code

AEM Author/Publish

Config

CDN

Web Tier Config

Publish/Preview Dispatcher

Custom Functional Tests

Dev/Stage Testing

141

© 2024 Adobe. All Rights Reserved.

Dev/Stage Testing

Adobe Digital Learning Services

GH
T

141

PR

Custom UI Tests

OT

EC

TE
D

Artifact

Required Stages for All Pipelines
1. Validation

PY
RI

Cloud Manager executes the following steps for all pipelines:
2. Build & Unit Testing
3. Code Scanning

OB

E

CO

4. Build Images

AD

© 2024 Adobe. All Rights Reserved.

142

Adobe Digital Learning Services

142

69

7/20/24

Pipeline Stages
Non-Production
Deployment

Production

Validation

X

X

X

Build & Unit Testing

X

X

X

Code Scanning

X

X

X

Build Images

(CS)

(CS)

(CS)

Deploy to Dev

* Optional

TE
D

Non-Production
Code Quality

Stage

Optional
go-live
approval

Dev Env
Stage Env
(CS) Dev Env*

(CS) Stage Env

Custom Functional Testing

(CS) Dev Env*

(CS) Stage Env

Custom UI Testing

(CS) Dev Env*

(CS) Stage Env

Experience Audit

(CS) Dev Env*

(CS) Stage Env

OT

Product Functional Testing

(AMS) Stage Env

Performance Testing

(AMS) Stage Env

Deploy to Production

Prod Env
143

Optional CSE oversight can
be used if desired

AMS

Adobe Digital Learning Services

GH
T

143

PR

Security Testing

© 2024 Adobe. All Rights Reserved.

EC

Deploy to Stage

OB

E

CO

PY
RI

Q&A

AD

© 2024 Adobe. All Rights Reserved.

144

Adobe Digital Learning Services

144

70

